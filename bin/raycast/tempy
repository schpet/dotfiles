#!/usr/bin/env bash

# @raycast.schemaVersion 1
# @raycast.title tempy
# @raycast.mode silent
# @raycast.description Creates a temp directory with jj repo and opens Ghostty to it

# Create timestamp
timestamp=$(date +%Y%m%d-%H%M%S)

# Create temp directory
tmpdir="/tmp/tempy/tempy-${timestamp}"
mkdir -p "$tmpdir"

# Initialize jj with git colocated repo
jj git init --colocate "$tmpdir"

# Open Ghostty to the directory
open -a ghostty "$tmpdir"
